{
  "id": "7e27ab29-0446-4493-887c-dd6d78e149d1",
  "prevId": "201d30ae-7a53-4402-a73b-a6fea8fe4b9e",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.data_source": {
      "name": "data_source",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(32)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "data_source_slug_unique": {
          "name": "data_source_slug_unique",
          "nullsNotDistinct": false,
          "columns": ["slug"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.error_log": {
      "name": "error_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(32)",
          "primaryKey": true,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ctx": {
          "name": "ctx",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.feedback": {
      "name": "feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.meal": {
      "name": "meal",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(32)",
          "primaryKey": true,
          "notNull": true
        },
        "src_id": {
          "name": "src_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "data_source_slug": {
          "name": "data_source_slug",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "subtitle": {
          "name": "subtitle",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "img_path": {
          "name": "img_path",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "price_stud": {
          "name": "price_stud",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "price_work": {
          "name": "price_work",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "price_guest": {
          "name": "price_guest",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "meal_unique": {
          "name": "meal_unique",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "data_source_slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subtitle",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "img_path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "meal_src_id_unique": {
          "name": "meal_src_id_unique",
          "columns": [
            {
              "expression": "src_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "data_source_slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "meal_data_source_slug_data_source_slug_fk": {
          "name": "meal_data_source_slug_data_source_slug_fk",
          "tableFrom": "meal",
          "tableTo": "data_source",
          "columnsFrom": ["data_source_slug"],
          "columnsTo": ["slug"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.meal_rating": {
      "name": "meal_rating",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(32)",
          "primaryKey": true,
          "notNull": true
        },
        "meal_id": {
          "name": "meal_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "mensa_meal_id": {
          "name": "mensa_meal_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "value_price": {
          "name": "value_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "value_quantity": {
          "name": "value_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "value_taste": {
          "name": "value_taste",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "meal_rating_meal_user_idx": {
          "name": "meal_rating_meal_user_idx",
          "columns": [
            {
              "expression": "meal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "meal_rating_meal_id_meal_id_fk": {
          "name": "meal_rating_meal_id_meal_id_fk",
          "tableFrom": "meal_rating",
          "tableTo": "meal",
          "columnsFrom": ["meal_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "meal_rating_mensa_meal_id_mensa_meal_id_fk": {
          "name": "meal_rating_mensa_meal_id_mensa_meal_id_fk",
          "tableFrom": "meal_rating",
          "tableTo": "mensa_meal",
          "columnsFrom": ["mensa_meal_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "meal_rating_user_id_user_id_fk": {
          "name": "meal_rating_user_id_user_id_fk",
          "tableFrom": "meal_rating",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.meal_update": {
      "name": "meal_update",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(32)",
          "primaryKey": true,
          "notNull": true
        },
        "meal_id": {
          "name": "meal_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "prev": {
          "name": "prev",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "new": {
          "name": "new",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "meal_update_meal_id_meal_id_fk": {
          "name": "meal_update_meal_id_meal_id_fk",
          "tableFrom": "meal_update",
          "tableTo": "meal",
          "columnsFrom": ["meal_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mensa": {
      "name": "mensa",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(32)",
          "primaryKey": true,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mensa_slug_unique": {
          "name": "mensa_slug_unique",
          "nullsNotDistinct": false,
          "columns": ["slug"]
        },
        "mensa_name_unique": {
          "name": "mensa_name_unique",
          "nullsNotDistinct": false,
          "columns": ["name"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mensa_meal": {
      "name": "mensa_meal",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(32)",
          "primaryKey": true,
          "notNull": true
        },
        "mensa_id": {
          "name": "mensa_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "meal_id": {
          "name": "meal_id",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "ingredients": {
          "name": "ingredients",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "extras": {
          "name": "extras",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "mensa_meal_unique_idx": {
          "name": "mensa_meal_unique_idx",
          "columns": [
            {
              "expression": "mensa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "meal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mensa_meal_date_idx": {
          "name": "mensa_meal_date_idx",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mensa_meal_mensa_id_idx": {
          "name": "mensa_meal_mensa_id_idx",
          "columns": [
            {
              "expression": "mensa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "mensa_meal_mensa_id_mensa_id_fk": {
          "name": "mensa_meal_mensa_id_mensa_id_fk",
          "tableFrom": "mensa_meal",
          "tableTo": "mensa",
          "columnsFrom": ["mensa_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "mensa_meal_meal_id_meal_id_fk": {
          "name": "mensa_meal_meal_id_meal_id_fk",
          "tableFrom": "mensa_meal",
          "tableTo": "meal",
          "columnsFrom": ["meal_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(32)",
          "primaryKey": true,
          "notNull": true
        },
        "ip_hash": {
          "name": "ip_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "cookie_hash": {
          "name": "cookie_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
